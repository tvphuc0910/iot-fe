<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="static/assets/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="static/assets/img/favicon.png">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>IOT</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


     <!-- Bootstrap core CSS     -->
    <link href="static/assets/css/bootstrap.min.css" rel="stylesheet" />

    <!--  Paper Dashboard core CSS    -->
    <link href="static/assets/css/paper-dashboard.css" rel="stylesheet"/>


    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="static/assets/css/demo.css" rel="stylesheet" />


    <!--  Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
    <link href="static/assets/css/themify-icons.css" rel="stylesheet">
</head>

<body>
	<div class="wrapper">
	    <div class="sidebar" data-background-color="brown" data-active-color="danger">
	    <!--
			Tip 1: you can change the color of the sidebar's background using: data-background-color="white | brown"
			Tip 2: you can change the color of the active button using the data-active-color="primary | info | success | warning | danger"
		-->
			<div class="logo">
				<a href="http://www.creative-tim.com" class="simple-text logo-mini">
					CT
				</a>

				<a href="http://www.creative-tim.com" class="simple-text logo-normal">
					Creative Tim
				</a>
			</div>
	    	<div class="sidebar-wrapper">
				<div class="user">
	                <div class="info">
						<div class="photo">
		                    <img src="static/assets/img/faces/face-2.jpg" />
		                </div>

	                    <a data-toggle="collapse" href="#collapseExample" class="collapsed">
	                        <span>
								Chet Faker
		                        <b class="caret"></b>
							</span>
	                    </a>
						<div class="clearfix"></div>

	                    <div class="collapse" id="collapseExample">
	                        <ul class="nav">
	                            <li>
									<a href="#profile">
										<span class="sidebar-mini">Mp</span>
										<span class="sidebar-normal">My Profile</span>
									</a>
								</li>
	                            <li>
									<a href="#edit">
										<span class="sidebar-mini">Ep</span>
										<span class="sidebar-normal">Edit Profile</span>
									</a>
								</li>
	                            <li>
									<a href="#settings">
										<span class="sidebar-mini">S</span>
										<span class="sidebar-normal">Settings</span>
									</a>
								</li>
	                        </ul>
	                    </div>
	                </div>
	            </div>
	            <ul class="nav">
	                <li class="active">
	                    <a data-toggle="collapse" href="#dashboardOverview" aria-expanded="true">
	                        <i class="ti-panel"></i>
	                        <p>Dashboard
                                <b class="caret"></b>
                            </p>
	                    </a>
						<div class="collapse in" id="dashboardOverview">
							<ul class="nav">
								<li class="active">
									<a href="../dashboard/overview.html">
										<span class="sidebar-mini">O</span>
										<span class="sidebar-normal">Overview</span>
									</a>
								</li>
								<li>
									<a href="../dashboard/stats.html">
										<span class="sidebar-mini">S</span>
										<span class="sidebar-normal">Stats</span>
									</a>
								</li>
							</ul>
						</div>
	                </li>
					<li>
						<a data-toggle="collapse" href="#componentsExamples">
							<i class="ti-package"></i>
							<p>Components
							   <b class="caret"></b>
							</p>
						</a>
						<div class="collapse" id="componentsExamples">
							<ul class="nav">
	                            <li>
									<a href="../components/buttons.html">
										<span class="sidebar-mini">B</span>
										<span class="sidebar-normal">Buttons</span>
									</a>
								</li>
	                            <li>
									<a href="../components/grid.html">
										<span class="sidebar-mini">GS</span>
										<span class="sidebar-normal">Grid System</span>
									</a>
								</li>
	                            <li>
									<a href="../components/panels.html">
										<span class="sidebar-mini">P</span>
										<span class="sidebar-normal">Panels</span>
									</a>
								</li>
	                            <li>
									<a href="../components/sweet-alert.html">
										<span class="sidebar-mini">SA</span>
										<span class="sidebar-normal">Sweet Alert</span>
									</a>
								</li>
	                            <li>
									<a href="../components/notifications.html">
										<span class="sidebar-mini">N</span>
										<span class="sidebar-normal">Notifications</span>
									</a>
								</li>
	                            <li>
									<a href="../components/icons.html">
										<span class="sidebar-mini">I</span>
										<span class="sidebar-normal">Icons</span>
									</a>
								</li>
	                            <li>
									<a href="../components/typography.html">
										<span class="sidebar-mini"><i class="ti-panel"></i></span>
										<span class="sidebar-normal">Typography</span>
									</a>
								</li>
	                        </ul>
						</div>
					</li>
					<li>
						<a data-toggle="collapse" href="#formsExamples">
	                        <i class="ti-clipboard"></i>
	                        <p>
								Forms
	                           <b class="caret"></b>
	                        </p>
	                    </a>
	                    <div class="collapse" id="formsExamples">
							<ul class="nav">
								<li>
									<a href="../forms/regular.html">
										<span class="sidebar-mini">Rf</span>
										<span class="sidebar-normal">Regular Forms</span>
									</a>
								</li>
								<li>
									<a href="../forms/extended.html">
										<span class="sidebar-mini">Ef</span>
										<span class="sidebar-normal">Extended Forms</span>
									</a>
								</li>
								<li>
									<a href="../forms/validation.html">
										<span class="sidebar-mini">Vf</span>
										<span class="sidebar-normal">Validation Forms</span>
									</a>
								</li>
	                            <li>
									<a href="../forms/wizard.html">
										<span class="sidebar-mini">W</span>
										<span class="sidebar-normal">Wizard</span>
									</a>
								</li>
	                        </ul>
	                    </div>
	                </li>
	                <li>
						<a data-toggle="collapse" href="#tablesExamples">
	                        <i class="ti-view-list-alt"></i>
	                        <p>
								Table list
	                           <b class="caret"></b>
	                        </p>
	                    </a>
	                    <div class="collapse" id="tablesExamples">
							<ul class="nav">
								<li>
									<a href="../tables/regular.html">
										<span class="sidebar-mini">RT</span>
										<span class="sidebar-normal">Regular Tables</span>
									</a>
								</li>
								<li>
									<a href="../tables/extended.html">
										<span class="sidebar-mini">ET</span>
										<span class="sidebar-normal">Extended Tables</span>
									</a>
								</li>
								<li>
									<a href="../tables/bootstrap-table.html">
										<span class="sidebar-mini">BT</span>
										<span class="sidebar-normal">Bootstrap Table</span>
									</a>
								</li>
								<li>
									<a href="../tables/datatables.net.html">
										<span class="sidebar-mini">DT</span>
										<span class="sidebar-normal">DataTables.net</span>
									</a>
								</li>
	                        </ul>
	                    </div>
	                </li>
					<li>
						<a data-toggle="collapse" href="#mapsExamples">
	                        <i class="ti-map"></i>
	                        <p>
								Maps
	                           <b class="caret"></b>
	                        </p>
	                    </a>
	                    <div class="collapse" id="mapsExamples">
							<ul class="nav">
								<li>
									<a href="../maps/google.html">
										<span class="sidebar-mini">GM</span>
										<span class="sidebar-normal">Google Maps</span>
									</a>
								</li>
								<li>
									<a href="../maps/vector.html">
										<span class="sidebar-mini">VM</span>
										<span class="sidebar-normal">Vector maps</span>
									</a>
								</li>
								<li>
									<a href="../maps/fullscreen.html">
										<span class="sidebar-mini">FSM</span>
										<span class="sidebar-normal">Full Screen Map</span>
									</a>
								</li>
	                        </ul>
	                    </div>
	                </li>
					<li>
	                    <a href="../charts.html">
	                        <i class="ti-bar-chart-alt"></i>
	                        <p>Charts</p>
	                    </a>
	                </li>
					<li>
	                    <a href="../calendar.html">
	                        <i class="ti-calendar"></i>
	                        <p>Calendar</p>
	                    </a>
	                </li>
					<li>
						<a data-toggle="collapse" href="#pagesExamples">
	                        <i class="ti-gift"></i>
	                        <p>
								Pages
	                           <b class="caret"></b>
	                        </p>
	                    </a>
	                    <div class="collapse" id="pagesExamples">
							<ul class="nav">
								<li>
									<a href="../pages/timeline.html">
										<span class="sidebar-mini">TP</span>
										<span class="sidebar-normal">Timeline Page</span>
									</a>
								</li>
								<li>
									<a href="../pages/user.html">
										<span class="sidebar-mini">UP</span>
										<span class="sidebar-normal">User Page</span>
									</a>
								</li>
								<li>
									<a href="../pages/login.html">
										<span class="sidebar-mini">LP</span>
										<span class="sidebar-normal">Login Page</span>
									</a>
								</li>
								<li>
									<a href="../pages/register.html">
										<span class="sidebar-mini">RP</span>
										<span class="sidebar-normal">Register Page</span>
									</a>
								</li>
								<li>
									<a href="../pages/lock.html">
										<span class="sidebar-mini">LSP</span>
										<span class="sidebar-normal">Lock Screen Page</span>
									</a>
								</li>
	                        </ul>
	                    </div>
	                </li>
	            </ul>
	    	</div>
	    </div>

	    <div class="main-panel">
			<nav class="navbar navbar-default">
	            <div class="container-fluid">
					<div class="navbar-minimize">
						<button id="minimizeSidebar" class="btn btn-fill btn-icon"><i class="ti-more-alt"></i></button>
					</div>
	                <div class="navbar-header">
	                    <button type="button" class="navbar-toggle">
	                        <span class="sr-only">Toggle navigation</span>
	                        <span class="icon-bar bar1"></span>
	                        <span class="icon-bar bar2"></span>
	                        <span class="icon-bar bar3"></span>
	                    </button>
	                    <a class="navbar-brand" href="#Dashboard">
							Overview
						</a>
	                </div>
	                <div class="collapse navbar-collapse">

						<form class="navbar-form navbar-left navbar-search-form" role="search">
	    					<div class="input-group">
	    						<span class="input-group-addon"><i class="fa fa-search"></i></span>
	    						<input type="text" value="" class="form-control" placeholder="Search...">
	    					</div>
	    				</form>

	                    <ul class="nav navbar-nav navbar-right">
	                        <li>
	                            <a href="#stats" class="dropdown-toggle btn-magnify" data-toggle="dropdown">
	                                <i class="ti-panel"></i>
									<p>Stats</p>
	                            </a>
	                        </li>
	                        <li class="dropdown">
	                            <a href="#notifications" class="dropdown-toggle btn-rotate" data-toggle="dropdown">
	                                <i class="ti-bell"></i>
	                                <span class="notification">5</span>
									<p class="hidden-md hidden-lg">
										Notifications
										<b class="caret"></b>
									</p>
	                            </a>
	                            <ul class="dropdown-menu">
	                                <li><a href="#not1">Notification 1</a></li>
	                                <li><a href="#not2">Notification 2</a></li>
	                                <li><a href="#not3">Notification 3</a></li>
	                                <li><a href="#not4">Notification 4</a></li>
	                                <li><a href="#another">Another notification</a></li>
	                            </ul>
	                        </li>
							<li>
	                            <a href="#settings" class="btn-rotate">
									<i class="ti-settings"></i>
									<p class="hidden-md hidden-lg">
										Settings
									</p>
	                            </a>
	                        </li>
	                    </ul>
	                </div>
	            </div>
	        </nav>

	        <div class="content">
	            <div class="container-fluid">
	                <div class="row">
	                    <div class="col-lg-3 col-sm-6">
	                        <div class="card">
	                            <div class="card-content">
	                                <div class="row">
	                                    <div class="col-xs-5">
	                                        <div class="icon-big icon-warning text-center">
	                                            <i class="ti-shine"></i>
	                                        </div>
	                                    </div>
	                                    <div class="col-xs-7">
	                                        <div class="numbers">
                                                <p id="cuong_do_anh_sang">Cuong Do Anh Sang: N/A</p>
	                                            <!-- {{data.cuong_do_anh_sang}} lux -->
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
								<div class="card-footer">
									<hr />
									Đèn Led
									<div class="pull-right">
											<input type="checkbox" class="switch" id="lightCheckbox" onclick="submitForm('light')" />
										</div>
								</div>
	                        </div>
	                    </div>
	                    <div class="col-lg-3 col-sm-6">
	                        <div class="card">
	                            <div class="card-content">
	                                <div class="row">
	                                    <div class="col-xs-5">
	                                        <div class="icon-big icon-info text-center">
	                                            <i class="ti-paint-bucket"></i>
	                                        </div>
	                                    </div>
	                                    <div class="col-xs-7">
	                                        <div class="numbers">
                                                <p id="do_am_dat">Do Am Dat: N/A</p>
	                                            <!-- {{data.do_am_dat}}% -->
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
								<div class="card-footer">
									<hr />
									<div class="stats">
										Máy Bơm
										<div class="pull-right">
											<input type="checkbox" class="switch" id="waterCheckbox" onclick="submitForm('water')"/>
										</div>
									</div>
								</div>
	                        </div>
	                    </div>
	                    <div class="col-lg-3 col-sm-6">
	                        <div class="card">
	                            <div class="card-content">
	                                <div class="row">
	                                    <div class="col-xs-5">
	                                        <div class="icon-big icon-success text-center">
	                                            <i class="ti-control-record"></i>
	                                        </div>
	                                    </div>
	                                    <div class="col-xs-7">
	                                        <div class="numbers">
                                                <p id="nhiet_do">Nhiet Do: N/A</p>
	                                            <!-- {{data.nhiet_do}}°C -->
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
								<div class="card-footer">
									<hr />
									<div class="stats">
										<i class="ti-calendar"></i> Last day
									</div>
								</div>
	                        </div>
	                    </div>
	                    <div class="col-lg-3 col-sm-6">
	                        <div class="card">
	                            <div class="card-content">
	                                <div class="row">
	                                    <div class="col-xs-5">
	                                        <div class="icon-big icon-danger text-center">
	                                            <i class="ti-cloud"></i>
	                                        </div>
	                                    </div>
	                                    <div class="col-xs-7">
	                                        <div class="numbers">
                                                <p id="do_am">Do Am: N/A</p>
	                                            <!-- {{data.do_am}}% -->
	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
								<div class="card-footer">
									<hr />
									<div class="stats">
										<i class="ti-timer"></i> In the last hour
									</div>
								</div>
	                        </div>
	                    </div>
	                    
	                </div>
					<div class="row">
						<div class="col-lg-4 col-sm-6">
							<div class="card">
								<div class="card-content">
									<div id="chart-cuong-do-anh-sang" class="ct-chart"></div>
								</div>
								<div class="card-footer">
									<hr>
									<div class="footer-title">Financial Statistics</div>
									<div class="pull-right">
										<button class="btn btn-info btn-fill btn-icon btn-sm">
											<i class="ti-plus"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-sm-6">
							<div class="card">
								<div class="card-content">
									<div id="chart-do-am" class="ct-chart"></div>
								</div>
								<div class="card-footer">
									<hr>
									<div class="footer-title">Financial Statistics</div>
									<div class="pull-right">
										<button class="btn btn-info btn-fill btn-icon btn-sm">
											<i class="ti-plus"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-sm-6">
							<div class="card">
								<div class="card-content">
									<div id="chart-nhiet-do" class="ct-chart"></div>
								</div>
								<div class="card-footer">
									<hr>
									<div class="footer-title">Tải ảnh lên</div>
									<div class="pull-right">
										<label for="upload">
										      <span class="btn btn-success btn-fill btn-icon btn-sm">
										      	<i class="ti-plus"></i>
												<input type="file" id="upload" style="display:none">
											</span>
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-4 col-sm-6">
							<div class="card">
								<div class="card-content">
									<div id="chart-do-am-dat" class="ct-chart"></div>
								</div>
								<div class="card-footer">
									<hr>
									<div class="footer-title">Financial Statistics</div>
									<div class="pull-right">
										<button class="btn btn-info btn-fill btn-icon btn-sm">
											<i class="ti-plus"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
					
                </div>
	        </div>
            <footer class="footer">
                <div class="container-fluid">
                </div>
            </footer>
	    </div>
	</div>
</body>

	<!--   Core JS Files. Extra: TouchPunch for touch library inside jquery-ui.min.js   -->
	<script src="static/assets/js/jquery-3.1.1.min.js" type="text/javascript"></script>
	<script src="static/assets/js/jquery-ui.min.js" type="text/javascript"></script>
	<script src="static/assets/js/perfect-scrollbar.min.js" type="text/javascript"></script>
	<script src="static/assets/js/bootstrap.min.js" type="text/javascript"></script>


	<!--  Switch and Tags Input Plugins -->
	<script src="static/assets/js/bootstrap-switch-tags.js"></script>

	<!-- Circle Percentage-chart -->
	<script src="static/assets/js/jquery.easypiechart.min.js"></script>

	<!--  Charts Plugin -->
	<script src="static/assets/js/chartist.min.js"></script>


	<!-- Paper Dashboard PRO Core javascript and methods for Demo purpose -->
	<script src="static/assets/js/paper-dashboard.js"></script>

	<!-- Paper Dashboard PRO DEMO methods, don't include it in your project! -->
	<script src="static/assets/js/demo.js"></script>

	<script type="text/javascript">
    	$(document).ready(function(){
			demo.initOverviewDashboard();
			demo.initCirclePercentage();

    	});
	</script>

<script>
    // Function to fetch and update data
    function fetchData() {
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "/received_data", true);
        
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                var data = JSON.parse(xhr.responseText);
                document.getElementById("do_am").textContent = "Do Am: " + data.do_am;
                document.getElementById("nhiet_do").textContent = "Nhiet Do: " + data.nhiet_do;
                document.getElementById("do_am_dat").textContent = "Do Am Dat: " + data.do_am_dat;
                document.getElementById("cuong_do_anh_sang").textContent = "Cuong Do Anh Sang: " + data.cuong_do_anh_sang;
                
                updateChartCuongDoAnhSang(data.cuong_do_anh_sang);
                updateChartNhietDo(data.nhiet_do);
                updateChartDoAm(data.do_am);
                updateChartDoAmDat(data.do_am_dat);
            }
        };
        xhr.send();
    }

    // Fetch and update data every 5 seconds (adjust the interval as needed)
    setInterval(fetchData, 5000);
</script>
<script>
    var optionsPerformance1 = {
        showPoint: false,
        lineSmooth: true,
        height: "200px",
        axisX: {
            showGrid: false,
            showLabel: true
        },
        axisY: {
            offset: 40,
        },
        low: 0,
        high: 15,
        height: "250px"
    };


    // Function to generate labels for the chart
    

    var dataPerformance1 = {
        labels: generateLabels(),
        series: [generateSeries1()]
    };

    var chartCuongDoAnhSang = new Chartist.Line('#chart-cuong-do-anh-sang', dataPerformance1, optionsPerformance1);

    // Function to generate random series data
    function generateSeries1() {
        var series = [];
        for (var i = 0; i < 12; i++) {
            series.push(0); // Generate a random value between 0 and 16
        }
        return series;
    }

    // Function to update the chart with new series data
    function updateChartCuongDoAnhSang( cuong_do_anh_sang) {
        dataPerformance.labels.shift(); // Remove the first label
        dataPerformance.labels.push(generateLabels()[11]); // Add a new label with seconds only
        dataPerformance.series[0].shift(); // Remove the first value
        dataPerformance.series[0].push(cuong_do_anh_sang); // Generate and add a new random value
        chartCuongDoAnhSang.update(dataPerformance1);
    }

	
</script>
<script>
    var optionsPerformance2 = {
        showPoint: false,
        lineSmooth: true,
        height: "200px",
        axisX: {
            showGrid: false,
            showLabel: true
        },
        axisY: {
            offset: 40,
        },
        low: 0,
        high: 15,
        height: "250px"
    };


    // Function to generate labels for the chart
    

    var dataPerformance2 = {
        labels: generateLabels(),
        series: [generateSeries2()]
    };

    var chartNhietDo = new Chartist.Line('#chart-nhiet-do', dataPerformance2, optionsPerformance2);

    // Function to generate random series data
    function generateSeries2() {
        var series = [];
        for (var i = 0; i < 12; i++) {
            series.push(0); // Generate a random value between 0 and 16
        }
        return series;
    }

    // Function to update the chart with new series data
    function updateChartNhietDo(nhiet_do) {
        dataPerformance.labels.shift(); // Remove the first label
        dataPerformance.labels.push(generateLabels()[11]); // Add a new label with seconds only
        dataPerformance.series[0].shift(); // Remove the first value
        dataPerformance.series[0].push(nhiet_do); // Generate and add a new random value
        chartNhietDo.update(dataPerformance2);
    }

	
</script>
<script>
    var optionsPerformance3 = {
        showPoint: false,
        lineSmooth: true,
        height: "200px",
        axisX: {
            showGrid: false,
            showLabel: true
        },
        axisY: {
            offset: 40,
        },
        low: 0,
        high: 15,
        height: "250px"
    };


    // Function to generate labels for the chart
    

    var dataPerformance3 = {
        labels: generateLabels(),
        series: [generateSeries3()]
    };

    var chartDoAm = new Chartist.Line('#chart-do-am', dataPerformance3, optionsPerformance3);

    // Function to generate random series data
    function generateSeries3() {
        var series = [];
        for (var i = 0; i < 12; i++) {
            series.push(0); // Generate a random value between 0 and 16
        }
        return series;
    }

    // Function to update the chart with new series data
    function updateChartDoAm(do_am) {
        dataPerformance.labels.shift(); // Remove the first label
        dataPerformance.labels.push(generateLabels()[11]); // Add a new label with seconds only
        dataPerformance.series[0].shift(); // Remove the first value
        dataPerformance.series[0].push(do_am); // Generate and add a new random value
        chartDoAm.update(dataPerformance3);
    }

	
</script>
<script>
    var optionsPerformance4 = {
        showPoint: false,
        lineSmooth: true,
        height: "200px",
        axisX: {
            showGrid: false,
            showLabel: true
        },
        axisY: {
            offset: 40,
        },
        low: 0,
        high: 15,
        height: "250px"
    };


    // Function to generate labels for the chart
    

    var dataPerformance4 = {
        labels: generateLabels(),
        series: [generateSeries4()]
    };

    var chartCuongDoAnhSang = new Chartist.Line('#chart-do-am-dat', dataPerformance4, optionsPerformance4);

    // Function to generate random series data
    function generateSeries4() {
        var series = [];
        for (var i = 0; i < 12; i++) {
            series.push(0); // Generate a random value between 0 and 16
        }
        return series;
    }

    // Function to update the chart with new series data
    function updateChartDoAm(do_am) {
        dataPerformance.labels.shift(); // Remove the first label
        dataPerformance.labels.push(generateLabels()[11]); // Add a new label with seconds only
        dataPerformance.series[0].shift(); // Remove the first value
        dataPerformance.series[0].push(do_am); // Generate and add a new random value
        chartCuongDoAnhSang.update(dataPerformance4);
    }

	
</script>
<script>
	function generateLabels() {
        var labels = [];
        var now = new Date();
        for (var i = 0; i < 12; i++) {
            var formattedTime = now.toLocaleTimeString('en-US', { second: '2-digit' });
            labels.push(formattedTime);
            now.setSeconds(now.getSeconds() + 5);  // Increment by 5 seconds
        }
        return labels;
    }
</script>
<script>
	function submitForm(action) {
	  var form = document.createElement("form");
	  form.setAttribute("method", "get");
	  form.setAttribute("action", "/process");

	  var hiddenField = document.createElement("input");
	  hiddenField.setAttribute("type", "hidden");
	  hiddenField.setAttribute("name", "do");
	  hiddenField.setAttribute("value", action);
	  form.appendChild(hiddenField);

	  document.body.appendChild(form);
	  form.submit();
	}
  </script>
</html>
